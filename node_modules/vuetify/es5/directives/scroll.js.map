{"version":3,"sources":["../../src/directives/scroll.ts"],"names":[],"mappings":";;;;;AAgBA,SAAA,QAAA,CAAmB,EAAnB,EAA0C,OAA1C,EAAuE;AACrE,QAAM,WAAW,QAAQ,KAAzB;AACA,QAAM,UAAU,QAAQ,OAAR,IAAmB,EAAE,SAAS,IAAX,EAAnC;AACA,QAAI,SAAS,QAAQ,GAAR,GAAc,SAAS,aAAT,CAAuB,QAAQ,GAA/B,CAAd,GAAoD,MAAjE;AACA,QAAI,CAAC,MAAL,EAAa;AAEb,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC,EAA4C,OAA5C;AAEA,OAAG,SAAH,GAAe;AACb,0BADa;AAEb,wBAFa;AAGb;AAHa,KAAf;AAKD;AAED,SAAA,MAAA,CAAiB,EAAjB,EAAsC;AACpC,QAAI,CAAC,GAAG,SAAR,EAAmB;AADiB,wBAGE,GAAG,SAHL;AAAA,QAG5B,QAH4B,iBAG5B,QAH4B;AAAA,QAGlB,OAHkB,iBAGlB,OAHkB;AAAA,QAGT,MAHS,iBAGT,MAHS;;AAKpC,WAAO,mBAAP,CAA2B,QAA3B,EAAqC,QAArC,EAA+C,OAA/C;AACA,WAAO,GAAG,SAAV;AACD;kBAEc;AACb,UAAM,QADO;AAEb,sBAFa;AAGb;AAHa,C","sourcesContent":["import { VNodeDirective } from 'vue/types/vnode'\n\ninterface ScrollHTMLElement extends HTMLElement {\n  _onScroll?: {\n    callback: EventListenerOrEventListenerObject\n    options: boolean | AddEventListenerOptions\n    target: EventTarget\n  }\n}\n\ninterface ScrollVNodeDirective extends VNodeDirective {\n  arg: string\n  value: EventListenerOrEventListenerObject\n  options?: boolean | AddEventListenerOptions\n}\n\nfunction inserted (el: ScrollHTMLElement, binding: ScrollVNodeDirective) {\n  const callback = binding.value\n  const options = binding.options || { passive: true }\n  let target = binding.arg ? document.querySelector(binding.arg) : window\n  if (!target) return\n\n  target.addEventListener('scroll', callback, options)\n\n  el._onScroll = {\n    callback,\n    options,\n    target\n  }\n}\n\nfunction unbind (el: ScrollHTMLElement) {\n  if (!el._onScroll) return\n\n  const { callback, options, target } = el._onScroll\n\n  target.removeEventListener('scroll', callback, options)\n  delete el._onScroll\n}\n\nexport default {\n  name: 'scroll',\n  inserted,\n  unbind\n}\n"],"sourceRoot":""}